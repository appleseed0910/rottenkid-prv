<!DOCTYPE HTML>

<html>
<title>Rotten Kid Theory</title>

<head>

    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="libraries/p5.js"></script>
    <script language="javascript" type="text/javascript" src="libraries/p5.dom.js"></script>
    <script src="libraries/p5.sound.js"></script>
    <script src="main.js"></script>
    <script src="parents.js"></script>
    <script src="kids.js"></script>
    

</head>

<body>
    <header>
        <h1>Rotten kid theorem Simulator</h1>
        <h2>Based on Gary.S.Baker's ecnomical and sociological research <br><em><a href="http://www.journals.uchicago.edu/doi/abs/10.1086/260265">'A Theory of Social Interactions'</a></em></h2>
    </header>
    <section>
        <p><strong>Rules (Please use Chrome for browsing this page.)</strong>
            <br></p>
        <p>This reaserch focuses on how family ecnomic affects family members' interaction.
            <br>Dr.Baker used a lot of assumptions and limitations on the framework in the original paper. Such as:
            <br>The head of family who decides how to distribute the money is an altruist, which means a redistribution of income among members does not affect the consumption or welfare of any member.
            <br>And so on...
        </p>
        <p>
            The conclusion is a lit tricky... it suggests that the result of distributing the estate among offsprings is something hard to know beforehand.
            <br>If an selfish egoist doesn't commit harm to his/her siblings, that's because he/she takes the related consequence as a kind of 'social income'.
            <br>The more he/she hurts his/her siblings ecnomically, the more the altruistic parent needs to make up the hurted child, which declines the life quality of the whole family(and the egoist's reputation)!</p>
        <p>
            <br>My personal understanding of this model is a demonstration of instability.
            <br>Until now, I've already finished most functions of the model roughly. I changed the original complicated mathmatical formulas into simple probalblity.
        </p>

        <p><strong><div style="color:red">Instructions!</div></strong>
            <strong>Please click buttons in the order from left up to down and then to the right.</strong>
        <br>After Pay, it's Check. Then you might see something happen, if not, please click and go to see the next week.
        <br>Becasue everything happens based on probalblity, I cannot ensure anything!
        </p>

    </section>
    <main>
        <table>
            <tr>
                <th class="parents">Parents</th>
                <th class="good">Good kid</th>
                <th class="rotten">Rotten Kid</th>
            </tr>
            <tr>
                <!--Parents income-->
                <td class="parents">Weekly Income:
                    <div class="num" id="weeklyIncome">$200<sup> (1)</sup></div>
                </td>
                <!--Good kid income-->
                <td class="good">Weekly allowance:
                    <div class="num" id="weeklyGoodA"> </div>
                </td>
                <!--Rotten kid income-->
                <td class="rotten">Weekly allowance:
                    <div class="num" id="weeklyRottenA"> </div>
                </td>
            </tr>
            <tr>
                <!--Parents expenditure-->
                <td class="parents">Behaviour:<br>
                    <ul>
                        <li>Housing
                            <div class="num">$46</div><button id="payHousingbutton" onclick="p1.payHousing();">Pay</button></li>

                        <li>Food
                            <div class="num">$60</div><button id="payFoodbutton" onclick="p1.payFood();">Pay</button></li>

                        <li>Transportation
                            <div class="num">$48</div><button id="payTransportationbutton" onclick="p1.payTransportation();">Pay</button></li>

                        <li>Healthcare
                            <div class="num">$10</div><button id="payHealthcarebutton" onclick="p1.payHealthcare();">Pay</button></li>

                        <li>Clothing
                            <div class="num">$16</div><button id="payClothingbutton" onclick="p1.payClothing();">Pay</button></li>

                        <li>Other
                            <ul>
                                <li>Entertainment
                                    <button onclick="p1.plusEntertainment();">+</button>
                                    <div class="num" id="entertainment">$10</div>
                                    <button onclick="p1.minusEntertainment();">-</button></li>
                                <li>Allowance
                                    <ul>
                                        <li>For good kid:<button onclick="p1.plusGood();">+</button>
                                            <div class="num" id="costForgood">$5</div><button onclick="p1.minusGood();">-</button>
                                        </li>
                                        <li>For bad kid:<button onclick="p1.plusRotten();">+</button>
                                            <div class="num" id="costForrotten">$5</div><button onclick="p1.minusRotten();">-</button></li>
                                    </ul>
                                </li>
                            </ul><button id="payOtherbutton" onclick="p1.payOther();">Pay</button></li>
                    </ul>
                </td>

                <!--Good Kid expenditure-->
                <td class="good">Behaviour:<br>
                    <ul>
                        <li>Snack
                            <div class="num">$2</div>
                        </li>
                        <li>Toy
                            <div class="num">$3</div>
                        </li>
                        <li>Comic
                            <div class="num">$5</div>
                        </li>
                    </ul>
                    <div id="noteGood"></div><div id="noteGood2"></div>
                </td>

                <!--Rotten Kid expenditure-->
                <td class="rotten">Behaviour:<br>
                    <ul>
                        <li>Snack
                            <div class="num">$2</div>
                        </li>
                        <li>Toy
                            <div class="num">$3</div>
                        </li>
                        <br>
                        <li>Snatch<sup> (2)</sup>
                            <div class="num"></div>
                        </li>
                        <li>Bike
                            <div class="num">$10</div>
                        </li>
                    </ul>
                    <div id="noteRotten"></div><div id="noteRotten2"></div>
                </td>
            </tr>
            <tr>
                <!--Parents balance-->
                <td class="parents">Balance :
                    <div class="num" id="parentsBalance"></div><button id="pcheckbutton" onclick="p1.check();">Check</button>
                </td>
                <!--Good kid balance-->
                <td class="good">Balance :
                    <div class="num" id="goodBalance"></div><button id="goodcheckbutton" onclick="good1.check();">Check</button>
                </td>
                <!--Rotten kid balance-->
                <td class="rotten">Balance :
                    <div class="num" id="rottenBalance"></div><button id="rottencheckbutton" onclick="rotten1.check();">Check</button>
                </td>
            </tr>
        </table>
        
        <div id="sketch-holder">
        </div>
        
        <p id="notification">Please go ahead click on the buttons to complete the process!</p>
        <button id="next" disabled="true" onclick="reset();">Go to next Week</button>
        <p id="conclusion"></p>
        
    </main>
    <footer>
        <p>(1)The data about median US family income and expenditure in 1970s sources from the papers below:
            <br><b>a.United States Median Household Income: 1950-1990</b> : <a href="https://web.stanford.edu/class/polisci120a/immigration/Median%20Household%20Income.pdf">Link</a>
            <br>Through this paper I estimated the approximate amount of a median US family's weekly income is around $200.
            <br><b>b.A century of family budgets in the United States</b>: <a href="https://www.bls.gov/opub/mlr/2001/05/art3full.pdf">Link</a>
            <br>Through this paper, I calculated the different amounts of each expenditure kinds.
            <br>(2)Other reference:
            <br><a href="https://en.wikipedia.org/wiki/Rotten_kid_theorem">Wiki page of 'Rotten kid theorem'</a>
            <br>Wiki page gave me a general understanding of the theory in the early stage.
        </p>
    </footer>
    
    
    
</body>

</html>
